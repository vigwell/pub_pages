<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×ª×¨×©×™××™ ×ª×”×œ×™×›×™× - × ×•×”×œ ×¤×™×ª×•×— ×•×ª××™×›×” ×‘××§×‘×™×œ</title>
    <style>
        @page {
            size: A4;
            margin: 2cm;
        }
        
        body {
            font-family: 'Segoe UI', 'Arial Hebrew', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 21cm;
            margin: 0 auto;
            padding: 20px;
            background: white;
        }
        
        h1 {
            color: #0066cc;
            border-bottom: 3px solid #0066cc;
            padding-bottom: 10px;
            margin-bottom: 30px;
            page-break-after: avoid;
        }
        
        h2 {
            color: #0052a3;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 8px;
            margin-top: 30px;
            margin-bottom: 20px;
            page-break-after: avoid;
        }
        
        h3 {
            color: #444;
            margin-top: 20px;
            margin-bottom: 15px;
        }
        
        .diagram-container {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            page-break-inside: avoid;
            text-align: center;
        }
        
        .mermaid {
            text-align: center;
            margin: 15px 0;
        }
        
        .process-description {
            background: #e8f4f8;
            border-right: 4px solid #0066cc;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .legend {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 10px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .legend-item {
            display: inline-block;
            margin: 5px 15px;
        }
        
        .page-break {
            page-break-after: always;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: right;
        }
        
        th {
            background-color: #0066cc;
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .highlight {
            background-color: #ffeb3b;
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        ul, ol {
            margin: 15px 0;
            padding-right: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        .arrow {
            color: #0066cc;
            font-weight: bold;
        }
        
        @media print {
            body {
                font-size: 11pt;
            }
            
            .diagram-container {
                background: white;
                border: 1px solid #000;
            }
            
            h1, h2 {
                color: black;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                curve: 'basis',
                padding: 20,
                nodeSpacing: 50,
                rankSpacing: 50
            }
        });
    </script>
</head>
<body>
    <h1>ğŸ“Š ×ª×¨×©×™××™ ×ª×”×œ×™×›×™× - × ×•×”×œ ×¤×™×ª×•×— ×•×ª××™×›×” ×‘××§×‘×™×œ</h1>

    <h2>1. ğŸŒ³ ××¡×˜×¨×˜×’×™×™×ª Branches - GitFlow ××•×ª××</h2>
    
    <div class="process-description">
        <strong>×ª×™××•×¨:</strong> ××•×“×œ × ×™×”×•×œ ×¢× ×¤×™× ×”×××¤×©×¨ ×¤×™×ª×•×— ××§×‘×™×œ ×œ×ª××™×›×” ×‘×™×™×¦×•×¨
    </div>
    
    <div class="diagram-container">
        <div class="mermaid">
gitGraph:
    commit id: "Initial"
    branch develop
    checkout develop
    commit id: "Dev Start"
    
    branch feature/CRM-123
    checkout feature/CRM-123
    commit id: "×¤×™×¦'×¨ ×—×“×©"
    commit id: "×‘×“×™×§×•×ª"
    
    checkout develop
    merge feature/CRM-123
    
    branch release/1.0.0
    checkout release/1.0.0
    commit id: "×”×›× ×” ×œ×™×™×¦×•×¨"
    
    checkout main
    merge release/1.0.0 tag: "v1.0.0"
    
    branch hotfix/1.0.1
    checkout hotfix/1.0.1
    commit id: "×ª×™×§×•×Ÿ ×“×—×•×£"
    
    checkout main
    merge hotfix/1.0.1 tag: "v1.0.1"
    
    checkout develop
    merge hotfix/1.0.1
        </div>
    </div>
    
    <h3>×›×œ×œ×™ ×¢×‘×•×“×” ×¢× Branches:</h3>
    <ul>
        <li><strong>main:</strong> ×§×•×“ ×™×™×¦×•×¨ - ××•×’×Ÿ ××›×ª×™×‘×” ×™×©×™×¨×”</li>
        <li><strong>develop:</strong> ×§×• ×¤×™×ª×•×— ×¨××©×™ ×œ×’×¨×¡×” ×”×‘××”</li>
        <li><strong>feature/*:</strong> ×¤×™×ª×•×— ×¤×™×¦'×¨×™× ×—×“×©×™×</li>
        <li><strong>release/*:</strong> ×”×›× ×ª ×’×¨×¡×” ×œ×™×™×¦×•×¨</li>
        <li><strong>hotfix/*:</strong> ×ª×™×§×•× ×™ ×—×™×¨×•× ×œ×™×™×¦×•×¨</li>
    </ul>

    <div class="page-break"></div>

    <h2>2. ğŸ”„ ×ª×”×œ×™×š CI/CD ××œ× ×œ×¤×™ ×¡×‘×™×‘×•×ª</h2>
    
    <div class="process-description">
        <strong>×ª×™××•×¨:</strong> ×–×¨×™××ª Build ×•-Deploy ××•×˜×•××˜×™×ª ××¤×™×ª×•×— ×¢×“ ×™×™×¦×•×¨
    </div>
    
    <div class="diagram-container">
        <div class="mermaid">
flowchart TB
    subgraph "×¤×™×ª×•×—"
        A[××¤×ª×— ××‘×¦×¢ Push] --> B[Pull Request]
        B --> C{Code Review}
        C -->|××™×©×•×¨| D[××™×–×•×’ ×œ-develop]
    end
    
    subgraph "CI Pipeline"
        D --> E[Build ××•×˜×•××˜×™]
        E --> F[×‘×“×™×§×•×ª ×™×—×™×“×”]
        F --> G[×¡×¨×™×§×ª SAST]
        G --> H[×™×¦×™×¨×ª Artifact]
    end
    
    subgraph "CD - ×¡×‘×™×‘×ª DEV"
        H --> I[Deploy ×œ-DEV]
        I --> J[××™×’×¨×¦×™×•×ª DB]
        J --> K[Smoke Tests]
    end
    
    subgraph "CD - ×¡×‘×™×‘×ª TEST"
        K --> L[×™×¦×™×¨×ª release/*]
        L --> M[Deploy ×œ-TEST]
        M --> N[×‘×“×™×§×•×ª QA]
        N --> O{××™×©×•×¨ QA}
    end
    
    subgraph "CD - ×¡×‘×™×‘×ª PROD"
        O -->|××™×©×•×¨| P[××™×–×•×’ ×œ-main]
        P --> Q[Tag ×’×¨×¡×”]
        Q --> R[Backup DB]
        R --> S[Deploy ×œ-PROD]
        S --> T[Health Checks]
        T --> U[× ×™×˜×•×¨]
    end
        </div>
    </div>

    <div class="page-break"></div>

    <h2>3. ğŸš¨ ×ª×”×œ×™×š Hotfix - ×ª×™×§×•× ×™ ×—×™×¨×•×</h2>
    
    <div class="process-description">
        <strong>×ª×™××•×¨:</strong> ×˜×™×¤×•×œ ××”×™×¨ ×‘×ª×§×œ×•×ª ×§×¨×™×˜×™×•×ª ×‘×™×™×¦×•×¨ ×ª×•×š ×©××™×¨×” ×¢×œ ×¨×¦×£ ×”×¤×™×ª×•×—
    </div>
    
    <div class="diagram-container">
        <div class="mermaid">
flowchart LR
    subgraph "×–×™×”×•×™ ×‘×¢×™×”"
        A[×ª×§×œ×” ×§×¨×™×˜×™×ª ×‘×™×™×¦×•×¨] --> B[×¤×ª×™×—×ª Work Item ×“×—×•×£]
        B --> C[×”×§×¦××ª ×¦×•×•×ª ×ª×™×§×•×Ÿ]
    end
    
    subgraph "×ª×™×§×•×Ÿ"
        C --> D[×™×¦×™×¨×ª hotfix/* ×-main]
        D --> E[×¤×™×ª×•×— ×ª×™×§×•×Ÿ]
        E --> F[×‘×“×™×§×•×ª ××§×•××™×•×ª]
        F --> G{CI ×¢×•×‘×¨?}
        G -->|×œ×| E
    end
    
    subgraph "×¤×¨×™×¡×”"
        G -->|×›×Ÿ| H[Deploy ×œ×¡×‘×™×‘×ª TEST]
        H --> I[×‘×“×™×§×ª QA ××–×•×¨×–×ª]
        I --> J[Deploy ×œ-PROD]
        J --> K[××™××•×ª ×ª×™×§×•×Ÿ]
    end
    
    subgraph "×¡× ×›×¨×•×Ÿ"
        K --> L[Tag: v1.0.1+hotfix1]
        L --> M[Merge ×œ-main]
        M --> N[Merge ×œ-develop]
        N --> O[Merge ×œ-release ×¤×¢×™×œ]
    end
        </div>
    </div>
    
    <table>
        <tr>
            <th>×©×œ×‘</th>
            <th>××—×¨××™</th>
            <th>SLA</th>
            <th>××™×©×•×¨×™× × ×“×¨×©×™×</th>
        </tr>
        <tr>
            <td>×–×™×”×•×™ ×•×¤×ª×™×—×ª Work Item</td>
            <td>×ª××™×›×” / Operations</td>
            <td>15 ×“×§×•×ª</td>
            <td>×× ×”×œ ×ª×•×¨×Ÿ</td>
        </tr>
        <tr>
            <td>×¤×™×ª×•×— ×ª×™×§×•×Ÿ</td>
            <td>×¦×•×•×ª ×¤×™×ª×•×—</td>
            <td>2-4 ×©×¢×•×ª</td>
            <td>Tech Lead</td>
        </tr>
        <tr>
            <td>×‘×“×™×§×•×ª ×•××™×©×•×¨</td>
            <td>QA</td>
            <td>30 ×“×§×•×ª</td>
            <td>QA Lead</td>
        </tr>
        <tr>
            <td>×¤×¨×™×¡×” ×œ×™×™×¦×•×¨</td>
            <td>DevOps</td>
            <td>30 ×“×§×•×ª</td>
            <td>Change Manager</td>
        </tr>
    </table>

    <div class="page-break"></div>

    <h2>4. ğŸ—„ï¸ × ×™×”×•×œ ××™×’×¨×¦×™×•×ª Database</h2>
    
    <div class="process-description">
        <strong>×ª×™××•×¨:</strong> × ×™×”×•×œ ×©×™× ×•×™×™ ×¡×›×™××” ×•× ×ª×•× ×™× ×‘×›×œ ×”×¡×‘×™×‘×•×ª
    </div>
    
    <div class="diagram-container">
        <div class="mermaid">
flowchart TB
    subgraph "×¤×™×ª×•×— ××™×’×¨×¦×™×”"
        A[×©×™× ×•×™ ×¡×›×™××” × ×“×¨×©] --> B[×™×¦×™×¨×ª ×§×•×‘×¥ ××™×’×¨×¦×™×”]
        B --> C[V2025_08_24__add_index.sql]
        C --> D[×‘×“×™×§×ª ×ª××™××•×ª ×œ××—×•×¨]
    end
    
    subgraph "×¡×‘×™×‘×ª DEV"
        D --> E[Apply ××•×˜×•××˜×™ ×‘-Deploy]
        E --> F[×‘×“×™×§×ª ×‘×™×¦×•×¢×™×]
        F --> G[Rollback Script]
    end
    
    subgraph "×¡×‘×™×‘×ª TEST"
        G --> H[Apply ×¢× Release]
        H --> I[×‘×“×™×§×•×ª ×¨×’×¨×¡×™×”]
        I --> J[××™×©×•×¨ DBA]
    end
    
    subgraph "×¡×‘×™×‘×ª PROD"
        J --> K[Backup ××œ×]
        K --> L[×—×œ×•×Ÿ ×ª×—×–×•×§×”]
        L --> M[Apply ××™×’×¨×¦×™×”]
        M --> N[Verification]
        N --> O{×”×¦×œ×—×”?}
        O -->|×œ×| P[Rollback]
        O -->|×›×Ÿ| Q[×¡×™×•×]
    end
        </div>
    </div>
    
    <h3>×›×œ×œ×™ ××™×’×¨×¦×™×•×ª:</h3>
    <ul>
        <li>×ª××™×“ ×ª××™××•×ª ×œ××—×•×¨ ×œ×’×¨×¡×” ××—×ª ×œ×¤×—×•×ª</li>
        <li>××¡×•×¨ ×œ××—×•×§ ×¢××•×“×•×ª - ×¨×§ ×œ×”×•×¡×™×£ ×•×œ×¡××Ÿ deprecated</li>
        <li>×›×œ ××™×’×¨×¦×™×” ×—×™×™×‘×ª Rollback script</li>
        <li>×‘×“×™×§×ª ×‘×™×¦×•×¢×™× ×¢×œ × ×¤×— × ×ª×•× ×™× ×“×•××” ×œ×™×™×¦×•×¨</li>
    </ul>

    <div class="page-break"></div>

    <h2>5. ğŸš€ ×ª×”×œ×™×š Release ××œ×</h2>
    
    <div class="process-description">
        <strong>×ª×™××•×¨:</strong> ×”×›× ×” ×•×”×¢×œ××ª ×’×¨×¡×” ×—×“×©×” ×œ×™×™×¦×•×¨
    </div>
    
    <div class="diagram-container">
        <div class="mermaid">
sequenceDiagram
    participant PM as Product Manager
    participant Dev as ×¦×•×•×ª ×¤×™×ª×•×—
    participant QA as ×¦×•×•×ª QA
    participant DevOps as ×¦×•×•×ª DevOps
    participant DBA as DBA
    participant Ops as Operations
    
    Note over PM,Dev: ×©×œ×‘ ×ª×›× ×•×Ÿ
    PM->>Dev: ×”×’×“×¨×ª ×ª×›×•×œ×ª Release
    Dev->>PM: ××™×©×•×¨ ×”×™×ª×›× ×•×ª
    
    Note over Dev,QA: ×©×œ×‘ ×¤×™×ª×•×—
    Dev->>Dev: ×¤×™×ª×•×— ×¤×™×¦'×¨×™×
    Dev->>QA: ×™×¦×™×¨×ª release/1.2.0
    
    Note over QA,DevOps: ×©×œ×‘ ×‘×“×™×§×•×ª
    QA->>DevOps: Deploy ×œ-TEST
    DevOps->>QA: ×¡×‘×™×‘×” ××•×›× ×”
    QA->>QA: ×‘×“×™×§×•×ª ×¨×’×¨×¡×™×”
    QA->>QA: ×‘×“×™×§×•×ª ×‘×™×¦×•×¢×™×
    QA->>Dev: ×“×™×•×•×— ×‘××’×™×
    Dev->>QA: ×ª×™×§×•× ×™×
    
    Note over QA,DBA: ×©×œ×‘ ××™×©×•×¨×™×
    QA->>PM: ××™×©×•×¨ QA
    DBA->>DevOps: ××™×©×•×¨ ××™×’×¨×¦×™×•×ª
    
    Note over DevOps,Ops: ×©×œ×‘ ×™×™×¦×•×¨
    DevOps->>Ops: ×ª×™××•× ×—×œ×•×Ÿ
    DevOps->>DevOps: Backup
    DevOps->>Ops: Deploy ×œ-PROD
    Ops->>Ops: × ×™×˜×•×¨
    Ops->>PM: ××™×©×•×¨ ×”×¦×œ×—×”
        </div>
    </div>

    <div class="page-break"></div>

    <h2>6. â†©ï¸ ×ª×”×œ×™×š Rollback</h2>
    
    <div class="process-description">
        <strong>×ª×™××•×¨:</strong> ×”×—×–×¨×” ×œ×’×¨×¡×” ×§×•×“××ª ×‘××§×¨×” ×©×œ ×›×©×œ
    </div>
    
    <div class="diagram-container">
        <div class="mermaid">
flowchart TD
    A[×–×™×”×•×™ ×‘×¢×™×” ×§×¨×™×˜×™×ª] --> B{×¡×•×’ ×”×‘×¢×™×”}
    
    B -->|×‘×¢×™×™×ª ×§×•×“| C[Rollback ××¤×œ×™×§×¦×™×”]
    C --> D[×—×–×¨×” ×œ-Artifact ×§×•×“×]
    D --> E[Restart ×©×™×¨×•×ª×™×]
    
    B -->|×‘×¢×™×™×ª DB| F[Rollback Database]
    F --> G[×”×¨×¦×ª Rollback Scripts]
    G --> H[××™××•×ª Data Integrity]
    
    B -->|×‘×¢×™×” ××©×•×œ×‘×ª| I[Full Rollback]
    I --> J[Restore ×-Backup]
    J --> K[××™××•×ª ××œ×]
    
    E --> L[×‘×“×™×§×•×ª Post-Rollback]
    H --> L
    K --> L
    
    L --> M{×”×¦×œ×—×”?}
    M -->|×›×Ÿ| N[×“×™×•×•×— ×•×”××©×š × ×™×˜×•×¨]
    M -->|×œ×| O[×”×¡×œ××” ×œ× ×™×”×•×œ]
    
    style A fill:#ff6b6b
    style O fill:#ff6b6b
    style N fill:#51cf66
        </div>
    </div>

    <div class="page-break"></div>

    <h2>7. ğŸ”„ ××¢×’×œ ×—×™×™× ×©×œ Work Item</h2>
    
    <div class="process-description">
        <strong>×ª×™××•×¨:</strong> ×–×¨×™××ª ×¢×‘×•×“×” ××¨×’×¢ ×¤×ª×™×—×ª ××©×™××” ×•×¢×“ ×¡×’×™×¨×ª×”
    </div>
    
    <div class="diagram-container">
        <div class="mermaid">
stateDiagram-v2
    [*] --> New: ×™×¦×™×¨×ª Work Item
    New --> Approved: ××™×©×•×¨ PM
    New --> Rejected: ×“×—×™×™×”
    
    Approved --> InProgress: ×”×ª×—×œ×ª ×¤×™×ª×•×—
    InProgress --> CodeReview: PR ××•×›×Ÿ
    CodeReview --> InProgress: × ×“×¨×©×™× ×ª×™×§×•× ×™×
    CodeReview --> ReadyForQA: ××™×©×•×¨ Review
    
    ReadyForQA --> Testing: QA ××ª×—×™×œ ×‘×“×™×§×•×ª
    Testing --> Failed: × ××¦××• ×‘××’×™×
    Failed --> InProgress: ×—×–×¨×” ×œ×¤×™×ª×•×—
    Testing --> Passed: ×‘×“×™×§×•×ª ×¢×‘×¨×•
    
    Passed --> ReadyForDeploy: ××•×›×Ÿ ×œ×¤×¨×™×¡×”
    ReadyForDeploy --> Deployed: × ×¤×¨×¡ ×œ×™×™×¦×•×¨
    Deployed --> Verified: ××•××ª ×‘×™×™×¦×•×¨
    Verified --> Closed: ×¡×’×™×¨×”
    
    Rejected --> [*]
    Closed --> [*]
        </div>
    </div>

</body>
</html>
